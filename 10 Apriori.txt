####### APRIORI Algorithm ###############
setwd("File Directory / File Path ")

getwd()

library(arules)
library(arulesViz)
groceries<-read.transactions("File Directory/groceries1.csv",format="basket",sep=",")

groceries
summary(groceries)
inspect(groceries[1:10])


itemFrequencyPlot(groceries, support = 0.1)


itemFrequencyPlot(groceries, topN = 20)


image(groceries[1:10])

image(sample(groceries, 100))

library(arules)

apriori(groceries)


groceryrules <- apriori(groceries, parameter = list(support =
                                                      0.006, confidence = 0.25, minlen = 2))

groceryrules
summary(groceryrules)

rules<-sort(groceryrules, decreasing=TRUE,by="confidence")
inspect(rules[1:10])
plot(rules,method="graph",shading=NA)


inspect(groceryrules[1:10])
inspect(sort(groceryrules, by = "lift")[1:5])

berryrules <- subset(groceryrules, items %in% "berries")
inspect(berryrules)
write(groceryrules, file = "groceryrules.csv",
      sep = ",", quote = TRUE, row.names = FALSE)
groceryrules_df <- as(groceryrules, "data.frame")
groceryrules_df 
str(groceryrules_df)